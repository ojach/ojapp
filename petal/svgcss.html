<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SVG Safari Fix</title>

<style>
  body {
    background: #eef6ff;
    padding: 40px;
    font-family: -apple-system, BlinkMacSystemFont;
  }

  .card-wrap {
    width: 350px;
    margin: auto;
  }

  .card-bg {
    width: 100%;
    height: 200px;
    background: #fff;
    border-radius: 12px;
    position: relative;
  }

  svg {
    position: absolute;
    top: 0;
    left: 0;
  }
</style>
</head>

<body>

<h2>Safari 完全対応 SVG 枠アニメ</h2>

<div class="card-wrap">
  <div class="card-bg"></div>

  <!-- ✔︎ inline SVG / ✔︎ mask 不使用 / ✔︎ stroke 生描画 -->
  <svg width="350" height="200">
    <defs>
      <linearGradient id="g1" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" stop-color="#70f7ff"/>
        <stop offset="100%" stop-color="#a4c7ff"/>
      </linearGradient>

      <linearGradient id="g2" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" stop-color="#ffb6f7"/>
        <stop offset="100%" stop-color="#ff7bbb"/>
      </linearGradient>
    </defs>

    <rect id="border" x="5" y="5" width="340" height="190"
          rx="12" fill="none" stroke="url(#g1)" stroke-width="4"/>

    <!-- Safari でも必ず動くアニメ -->
    <animate href="#border"
             attributeName="stroke"
             dur="5s"
             repeatCount="indefinite"
             values="url(#g1);url(#g2);url(#g1)" />
  </svg>
</div>

</body>
</html>
